<!DOCTYPE html>
<html ng-app>
<head>
    <title>O2 Telecom</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.13/angular.min.js"></script>
    <script type="text/javascript" src="js/controllers/customerController.js"></script>
    <script type="text/javascript" src="js/controllers/billingController.js"></script>
    <script type="text/javascript" src="js/controllers/addCustomerController.js"></script>
    <link rel="stylesheet" type="text/css" href="css/first.css">
</head>
<body>
<div id="main">
    <!-- The navigation menu will get the value of the "active" variable as a class.
         The $event.preventDefault() stops the page from jumping when a link is clicked. -->

    <nav class="{{active}}" ng-click="$event.preventDefault()">

        <!-- When a link in the menu is clicked, we set the active variable -->
        <a href="#" class="addCustomer" ng-click="active='addCustomer'">Add Customer</a>
        <a href="#" class="customerDetails" ng-click="active='customerDetails'">Customer Details</a>
        <a href="#" class="billDetails" ng-click="active='billDetails'">Bill Details</a>
    </nav>

    <p ng-hide="active">Please click a menu item</p>
    <div class='content' ng-show=" active == 'addCustomer' ">
        <div ng-controller="AddCustomerController">
            <h1>Add Customer</h1>
            <form name="customerForm" ng-submit="submitForm()" novalidate>

                <!-- CustomerID -->
                <div ng-class="{ 'has-error' : customerForm.customerId.$invalid && !customerForm.customerId.$pristine }">
                    <label>CustomerId:</label>
                    <input type="text" name="customerId" class="form-control" ng-model="customer.customerId" ng-minlength="3" ng-maxlength="8" required>
                    <p ng-show="customerForm.customerId.$invalid && !customerForm.customerId.$pristine" class="help-block">CustomerId is mandatory and size should be between 3 & 8</p>

                </div>

                <!-- FIRSTNAME -->
                <div ng-class="{ 'has-error' : customerForm.firstName.$invalid && !customerForm.firstName.$pristine }">
                    <label>First Name:</label>
                    <input type="text" name="firstName" class="form-control" ng-model="customer.firstName"  ng-minlength="1" required>
                    <p ng-show="customerForm.firstName.$invalid && !customerForm.firstName.$pristine" class="help-block">FirstName should not be blank</p>
                </div>

                <!-- LASTNAME -->
                <div ng-class="{ 'has-error' : customerForm.lastName.$invalid && !customerForm.lastName.$pristine }">
                    <label>Last Name:</label>
                    <input type="text" name="lastName" class="form-control" ng-model="customer.lastName" required="true">
                    <p ng-show="customerForm.lastName.$invalid && !customerForm.lastName.$pristine" class="help-block">LastName should not be blank</p>
                </div>

                <!-- Address -->
                <div ng-class="{ 'has-error' : customerForm.address.$invalid && !customerForm.address.$pristine }">
                    <label>Billing Address:</label>
                    <input type="textarea" name="address" class="form-control" ng-model="customer.address">
                    <p ng-show="customerForm.address.$invalid && !customerForm.address.$pristine" class="help-block">Address should not be blank</p>
                 </div>
                <button type="reset" class="btn-primary" value="Reset">Reset</button>
                <button type="submit" class="btn-primary" ng-disabled="customerForm.$invalid">Submit</button>

            </form>
        </div>
    </div>
    <div class='content' ng-show=" active == 'customerDetails' ">
        <div ng-controller="AllCustomerDetailsController">
            <h1>Customer Details</h1>
            <table>
                <tr>
                    <th>CustomerId</th>
                    <th>FirstName</th>
                    <th>LastName</th>
                    <th>Billing Address</th>
                </tr>
                <tr ng-repeat="customer in customers">
                    <td>{{customer.customerId}}</td>
                    <td>{{customer.firstName}}</td>
                    <td>{{customer.lastName}}</td>
                    <td>{{customer.billingAddress}}</td>
                </tr>
            </table>
        </div>
    </div>
    <div class='content' ng-show=" active == 'billDetails' ">
        <div ng-controller="AllBillingDetailsController">
            <h1>Billing Details</h1>
            <table>
                <tr>
                    <th>CustomerId</th>
                    <th>SMS</th>
                    <th>Balance</th>
                    <th>Calls</th>
                </tr>
                <tr ng-repeat="bill in bills">
                    <td>{{bill.customerId}}</td>
                    <td>{{bill.sms}}</td>
                    <td>{{bill.balance}}</td>
                    <td>{{bill.calls}}</td>
                </tr>
            </table>
        </div>
    </div>
</div>
</body>
</html>